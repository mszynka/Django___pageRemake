{% extends 'blogbase.html' %}
{% block title %}{{ welcome_message }}{% endblock %}
{% block blog_title %}{{ blog_title }}{% endblock %}

{% block content %}
	{% comment %}<aside>
		<h2>Categories</h2>
    {% if categories %}
      <ul>
      {% for category in categories %}
        <li><a href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
      {% endfor %}
      </ul>
    {% else %}
      <p>There are no posts.</p>
    {% endif %}
	</aside>{% endcomment %}

	<main>
		<h2>Posts</h2>
    {% if posts %}
      {% for post in posts %}
        <article>
	        <heading><h4>{{ post.title }}</h4>
		        <div class="flex-inline">
			        {% comment %}{% for %}
				        <a href="{{ tag.get_absolute_url }}">tag.name</a>
				    {% endfor %}{% endcomment %}
		        </div>
		    </heading>
	        <p>{{ post.text|safe|truncatewords:"50"|linebreaks }}</p>
	        <a href="{{ post.get_absolute_url }}">read more</a>
	      </article>
      {% endfor %}

	  <div class="pagination center">
	     <span class="step-links">
	       {% if posts.has_previous %}
	         <a href="?page={{ posts.previous_page_number }}">previous</a>
	       {% endif %}
           <span class="current">
             Page {{ posts.number }} of {{ posts.paginator.num_pages }}
           </span>
           {% if posts.has_next %}
             <a href="?page={{  posts.next_page_number }}">next</a>
           {% endif %}
         </span>
	   </div>

    {% else %}
      <p>There are no posts.</p>
    {% endif %}

	<section>
		<h2>Tags</h2>
		{%  if tags %}
			<ul>
				{% for tag in tags %}
					<li><a href="{{ tag.get_absolute_url }}">{{ tag.title }}</a></li>
				{% endfor %}
			</ul>
		{% else %}
			<p>There are no tags.</p>
		{% endif %}
	</section>
	</main>
{% endblock %}