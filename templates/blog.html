{% extends 'blogbase.html' %}
{% block title %}{{ welcome_message }}{% endblock %}
{% block blog_title %}<a class="black" href="/blog/">{{ blog_title }}</a>{% endblock %}
{% block head_title %}{{ blog_title }}{% endblock %}

{% block content %}
	{% comment %}<aside>
		<h2>Categories</h2>
    {% if categories %}
      <ul>
      {% for category in categories %}
        <li><a href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
      {% endfor %}
      </ul>
    {% else %}
      <p>There are no posts.</p>
    {% endif %}
	</aside>{% endcomment %}
    {% if posts %}
      {% for post in posts %}
        <article>
        <hr/>
	        <heading><h2><a class="black" href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
		        <div class="flex-inline">
			        {% for tag in post.tags.all %}
				        <a class="tag" href="{{ tag.get_absolute_url }}">{{ tag.title }}</a>
				    {% endfor %}
		        </div>
		    </heading>
	        <p class="center">{{ post.text|safe|truncatewords:"50" }}
		        {% ifnotequal post.text|truncatewords_html:50|length post.text|truncatewords_html:51|length %}
		            <a class="underline" href="{{ post.get_absolute_url }}"> read more</a>
	            {% endifnotequal %}
	        </p>
	      </article>
      {% endfor %}

	  {% if posts.paginator.num_pages > 1 %}
	  <div class="pagination center">
	     <span class="step-links">
	       <a href="{% if posts.has_previous %}?page={{ posts.previous_page_number }}{% endif %}">
		       <button class="{% if posts.has_previous %}enabled{% endif %}"> < </button>
	       </a>
           <span class="current">
             <input value="{{ posts.number }}/{{ posts.paginator.num_pages }}" readonly>
           </span>
           <a href="{% if posts.has_next %}?page={{  posts.next_page_number }}{% endif %}">
	           <button class="{% if posts.has_next %}enabled{% endif %}"> > </button>
           </a>
         </span>
	   </div>
	   {% endif %}

    {% else %}
      <p class="center">There are no posts.</p>
    {% endif %}

{% comment %}	<section>
		<h2>Tags</h2>
		{%  if tags %}
			<div class="container">
				{% for tag in tags %}
					<a class="tag" href="{{ tag.get_absolute_url }}">{{ tag.title }}</a>
				{% endfor %}
			</div>
			<br><br>
		{% else %}
			<p>There are no tags.</p>
		{% endif %}
	</section>{% endcomment %}
{% endblock %}